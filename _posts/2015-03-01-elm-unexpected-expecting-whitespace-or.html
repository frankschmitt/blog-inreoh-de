---
layout: post
title: 'Elm: unexpected ''|'', expecting whitespace or end of input'
date: '2015-03-01T14:20:00.000-08:00'
author: Frank Schmitt
tags:
- Elm
modified_time: '2015-10-29T00:37:57.203-07:00'
blogger_id: tag:blogger.com,1999:blog-6373343020354235841.post-5509474363382785108
blogger_orig_url: http://inreoh.blogspot.com/2015/03/elm-unexpected-expecting-whitespace-or.html
---

I recently bought "Seven more languages in seven weeks" (E-Book). I really love the "Seven .. in seven weeks" series - it's intense + challenging + mind-bending.<br /><br />However, one of the things that was driving me crazy was that this simple piece of Elm code:<br /><br /><br /><span style="font-family: Courier New, Courier, monospace;">type Color = Black | White</span><br /><br />generated this error:<br /><br /><span style="font-family: Courier New, Courier, monospace;">unexpected '|'</span><br /><span style="font-family: Courier New, Courier, monospace;">expecting whitespace or end of input</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: inherit;">After trying out various things, the solution turned out to be quite simple - change your Terminal settings to use ASCII instead of Unicode-8, and everything works as expected (you might want to ensure your editor of choice also uses ASCII encoding if you're not using the REPL).</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Happy coding!</span><br /><span style="font-family: inherit;"><br /></span><b>UPDATE</b><br />Turns out the solution wasn't related to the character encoding - it seems to be a bug in the ELM REPL where it doesn't recover once you've typed in something wrong:<br /><br /><span style="font-family: Menlo; font-size: 13px;">franks-air:~ frank$ elm-repl</span><br /><div style="font-family: Menlo; font-size: 13px;">Elm REPL 0.4 <https: elm-lang="" elm-repl="" github.com=""></https:></div><div style="font-family: Menlo; font-size: 13px;">Type :help for help, :exit to exit</div><div style="font-family: Menlo; font-size: 13px;">&gt; data List = Empty | Node Int List</div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px;">Error in repl-temp-000.elm:</div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px;">Parse error at (line 2, column 19):</div><div style="font-family: Menlo; font-size: 13px;">unexpected '|'</div><div style="font-family: Menlo; font-size: 13px;">expecting whitespace or end of input</div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px;">&gt; type List = Empty | Node Int List</div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px;">Error in repl-temp-000.elm:</div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px;">Parse error at (line 3, column 19):</div><div style="font-family: Menlo; font-size: 13px;">unexpected '|'</div><div style="font-family: Menlo; font-size: 13px;">expecting whitespace or end of input</div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px; min-height: 15px;"><br /></div><div style="font-family: Menlo; font-size: 13px;">&gt;&nbsp;</div><div style="font-family: Menlo; font-size: 13px;">franks-air:~ frank$ elm-repl</div><div style="font-family: Menlo; font-size: 13px;">Elm REPL 0.4 <https: elm-lang="" elm-repl="" github.com=""></https:></div><div style="font-family: Menlo; font-size: 13px;">Type :help for help, :exit to exit</div><br /><div style="font-family: Menlo; font-size: 13px;">&gt; type List = Empty | Node Int List</div><div>&gt;</div>